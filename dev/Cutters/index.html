<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Cutters - Archipack</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Cutters";
    var mkdocs_page_input_path = "dev\\Cutters.md";
    var mkdocs_page_url = "/dev/Cutters/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Archipack</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../acknowledgements/">Acknowledgments</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../setup/">Setup</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">2d to 3d</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../2dto3d/detect/">Detect</a>
                </li>
                <li class="">
                    
    <a class="" href="../../2dto3d/simplify/">Simplify</a>
                </li>
                <li class="">
                    
    <a class="" href="../../2dto3d/offset/">Offset</a>
                </li>
                <li class="">
                    
    <a class="" href="../../2dto3d/buffer/">Buffer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../2dto3d/boolean/">2d Boolean</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Archipack primitives</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../archipack/Archipack-Window/">Window</a>
                </li>
                <li class="">
                    
    <a class="" href="../../archipack/Archipack-Door/">Door</a>
                </li>
                <li class="">
                    
    <a class="" href="../../archipack/Archipack-Stair/">Stair</a>
                </li>
                <li class="">
                    
    <a class="" href="../../archipack/Archipack-Wall/">Wall</a>
                </li>
                <li class="">
                    
    <a class="" href="../../archipack/Archipack-Fence/">Fence</a>
                </li>
                <li class="">
                    
    <a class="" href="../../archipack/Archipack-Slab/">Slab</a>
                </li>
                <li class="">
                    
    <a class="" href="../../archipack/Archipack-Floor/">Floor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../archipack/Archipack-Roof/">Roof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../archipack/Archipack-Reference-point/">Reference point</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Archipack features</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../features/Archipack-Automatic-Boolean/">Auto-Boolean</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/Custom-holes-and-walls/">Custom holes and walls</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/Notes-on-duplicating-and-presets/">Duplicating objects</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/Make-objects-safe-to-edit/">Make objects editable</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/Archipack-Presets/">Presets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/Materials/">Materials</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/Export/">Export</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/Usefull-addons/">Usefull addons</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/Importing-dxf/">Importing dxf</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Extending archipack</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Parametric-Objects-developper-guide/">Developper guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../Programming/">Bulk updates</a>
                </li>
                <li class="">
                    
    <a class="" href="../ArchipackObject/">ArchipackObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../Manipulable/">Manipulable ?</a>
                </li>
                <li class="">
                    
    <a class="" href="../Preset-system/">Preset system</a>
                </li>
                <li class="">
                    
    <a class="" href="../Feedback/">Feedback Panel</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Cutters</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#cutters">Cutters</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#robust-and-interactive-boolean-aka-hybrid-mode">Robust and interactive Boolean, aka "hybrid" mode</a></li>
        
            <li><a class="toctree-l4" href="#bissect-way-in-depth">Bissect way in depth</a></li>
        
        </ul>
    

    </ul>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Archipack</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Extending archipack &raquo;</li>
        
      
    
    <li>Cutters</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="cutters">Cutters</h1>
<p>There are many ways to handle cuts.</p>
<ul>
<li>
<p>Compute every "part" intersection with cutters while generating mesh, but this may require complex analysis and lead to long processing time.</p>
</li>
<li>
<p>Using boolean modifiers (the way walls handle windows and doors) require a complex setup to prevent circular dependancy and to handle "robust" and still full interactive holes.</p>
</li>
<li>
<p>Take advantage of bmesh bissect on a "degenerate" state of mesh, only selecting faces to be removed when overall shape is concave or when we need to make holes inside a structure.
Current slab, floor and roofs implementation use this approach.</p>
</li>
</ul>
<h2 id="robust-and-interactive-boolean-aka-hybrid-mode">Robust and interactive Boolean, aka "hybrid" mode</h2>
<p>Booleans are done in two steps, first step merge all holes into one object (union), then use result to cut wall using another boolean. This prevent stacking booleans cutters and is much stronger, while keeping full interactivity.
The first step may take advantage of carve mode when holes overlap, to avoid common issues with overlapping holes.</p>
<h3 id="performance">Performance</h3>
<p>Deps graph reevaluate each child over 2 boolean ops, so with many holes, moving parent may slow down significantely. <br />
As workarround, archipack tools provide ability to apply modifiers.<br />
Using auto-boolean restore the whole stack.  </p>
<h2 id="bissect-way-in-depth">Bissect way in depth</h2>
<p>On roofs, each part may use her own cutter, with her own offset, so eg rafters may be cut a bit inside of the overall hole so there is a space left for a beam arround hole. Also Tiles does use different cuts than others to be able to go sligthly out/in of roof boundaries.<br />
Bissect operation is done on simple faces aka "degenerate state", before geometry cleanup, solidify and/or bevel and computing uvs, making the cut operation lightweight (select and erase faces), and let bmesh deal with closing volumes and so on.<br />
All modelling ops are then done through bmesh, doing so prevent creating temporary mesh data filling orpheans on parameters changes.</p>
<h3 id="performance_1">Performance</h3>
<p>Current implementation is able to run realtime, at a pretty decent rate on common objects.
Roofs does implement a "throttle" update for tiles, only computing final result a bit after last user interaction.
This way, users take advantage of real-time manipulators on screen even on medium to large roofs.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../Feedback/" class="btn btn-neutral" title="Feedback Panel"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Feedback/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/require.js"></script>
      <script src="../../search/search.js"></script>

</body>
</html>
